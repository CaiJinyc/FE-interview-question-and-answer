## 安全
### XSS  跨站脚本注入
就是通过向网站写入 JS 脚本来实现攻击。

### 防范
- 过滤用户输入
- 对不可信的输入编码
- 安全 cookie，cookie 设置 HttpOnly（设置 HttpOnly 之后 JS 脚本无法读取到 cookie 信息）

### CSRF 跨站请求伪造
攻击者利用受害者的身份，以受害者的名义发送恶意请求。

例如：用户登录了 a.com，a 网站就会将用户的登录状态存在 cookie 中，然后用户又打开了 b网站，b 网站自动向 a 网站发送了一个请求。因为用户登录状态已经存在了 cookie 中，所以网站 a 就以为是用户操作的。

### 防范
- 使用 token 验证
- 验证码

## 输入 URL 到整个页面呈现的过程中发生了什么

**1.DNS 解析**  
客户端先检查本地是否有DNS缓存的，如果没有则请求上级 DNS 服务器，直到找到或者到根节点。

**2.游览器给服务器发送一个 HTTP 请求**  

**3.服务器返回一个永久重定向响应**  

**4.游览器重新跟踪重定向地址**

**5.服务器处理请求**

**6.服务器返回一个 HTML 响应**

**7.游览器显示 HTML**

**8.游览器发送请求获取嵌入在 HTML 中的资源**

**9.页面渲染然后构建完成**  

## 页面渲染过程
1. 解析 HTML、CSS
2. 构建 DOM 树，CSS 规则
3. DOM树 和 CSS 规则附着构造 Render 树
4. 布局
5. 绘制
6. 显示

## 前端优化策略列举
- 资源压缩合并，减少 HTTP 请求
- CDN 加速（当用户访问已经加入CDN服务的网站时，首先通过DNS重定向技术确定最接近用户的最佳CDN节点，同时将用户的请求指向该节点）
- JS文件异步加载
- 利用游览器缓存
- 预解析 DNS

### DNS 预解析的实现
1. 用meta信息来告知浏览器, 当前页面要做DNS预解析: `<meta http-equiv="x-dns-prefetch-control" content="on" />`
2. 在页面header中使用link标签来强制对DNS预解析: `<link rel="dns-prefetch" href="http://bdimg.share.baidu.com" />`

### Gzip 压缩实现
服务器检查客户端的请求头内容，查看游览器是否支持压缩。支持后就在服务器上压缩文件，然后返回 accept-encoding 为压缩类型。

## 前端工程化
- CSS 模块化、JS 模块化 可以重复调用
- 组件化，组件重复使用，可维护性好
- 规范化，定制代码规范，使用 ESlint 等工具

## 60%喜欢足球，70%喜欢篮球，80%喜欢排球，问既喜欢足球，又喜欢篮球，还喜欢排球的有多少？
30% - 60%

原因：  
喜欢足球的有 60%，所以不喜欢足球的有 40%，那么如果这 40% 的人都喜欢篮球，那么就只有 30% 的人同时喜欢足球和篮球，所以最小就为 30%。

又因为只有 60% 的人喜欢足球，所以最大就是 60%。

## 移动端 300ms 延迟如何解决
移动端 300ms 延迟是因为手机上面有双击缩放的功能，游览器器需要判断用户是否点击了两次，所以需要等 300ms。

### 解决：
1. 禁用缩放 `<meta name="viewport" content="user-scalable=no">`
2. 更改默认视口宽度 `<meta name="viewport" content="width=devicd-width">`
3. 使用 fastclick

## 移动端点击穿透
在移动端游览器，时间的执行顺序是 touchstart -> touchend -> click

现在我们有 A, B 两个元素， A 在 B 的上方，因为 click 事件有 300ms 延迟，所以如果我们给 A 元素 绑定 touchstart 事件，让 A 在 touchstart 的时候隐藏，这个时候因为会再出发 click 事件，所以事件就穿透到了 B 元素上面，如果 B 元素绑定了 click 事件的话，就会生效。
